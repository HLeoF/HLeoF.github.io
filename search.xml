<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Data Gathering, Cleaning, and Preparation</title>
      <link href="/2024/02/04/DataPrep/"/>
      <url>/2024/02/04/DataPrep/</url>
      
        <content type="html"><![CDATA[<h1 id="Gathering-Data"><a href="#Gathering-Data" class="headerlink" title="Gathering Data"></a>Gathering Data</h1><p>Finding an APIs calls <code>api-football</code> from the <code>rapidapi&#39;</code>‘s website and using it to get all the data. This API provides a rich data of La Liga players and clubs. Obtaining data has wonderful acquisition and the accuracy.</p><h2 id="API-Sample-Code"><a href="#API-Sample-Code" class="headerlink" title="API Sample Code"></a>API Sample Code</h2><ol><li><p>The example code below shows the API to get the various data of FC Barcelona’s players in La Liga from 2022-2023. Using this API to get all player’s data for La Liga from 2020-2023. </p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#endpoint</span></span><br><span class="line">url = <span class="string">&quot;https://api-football-v1.p.rapidapi.com/v3/players&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#to find the players&#x27;data in FC Barcelona 2020</span></span><br><span class="line"><span class="comment"># 529 means Barcelona</span></span><br><span class="line"><span class="comment"># 140 means Laliga</span></span><br><span class="line"><span class="comment"># season means 2020 year</span></span><br><span class="line">query = &#123;<span class="string">&quot;team&quot;</span>:<span class="string">&quot;529&quot;</span>,<span class="string">&quot;league&quot;</span>:<span class="string">&quot;140&quot;</span>,<span class="string">&quot;season&quot;</span>:<span class="string">&quot;2020&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;X-RapidAPI-Key&quot;</span>: Your_key, <span class="comment"># Your private API key</span></span><br><span class="line">    <span class="string">&quot;X-RapidAPI-Host&quot;</span>: <span class="string">&quot;api-football-v1.p.rapidapi.com&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">response = requests.get(url, headers=headers, params=query)</span><br><span class="line">response.text</span><br></pre></td></tr></table></figure><p> Run code, it shows the players’ data of FC Barcelona(click picture for <strong>zoom in</strong>)<br> <img src="/dataPrep/1.jpg" alt="Players Data From FC Barcelona (JSON)"></p></li><li><p>The example code below shows the API get various data of Barcelona (include wins, loses, draws, goal for, goal against, etc for each season) for La Liga from 2020-2023.</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://api-football-v1.p.rapidapi.com/v3/teams/statistics&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Getting the data of FC Barcelona in 2020</span></span><br><span class="line"><span class="comment"># 529 means Barcelona</span></span><br><span class="line"><span class="comment"># 140 means Laliga</span></span><br><span class="line"><span class="comment"># season means 2020 year</span></span><br><span class="line">query = &#123;<span class="string">&quot;league&quot;</span>:<span class="string">&quot;140&quot;</span>,<span class="string">&quot;season&quot;</span>:<span class="string">&quot;2020&quot;</span>,<span class="string">&quot;team&quot;</span>:<span class="string">&quot;529&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;X-RapidAPI-Key&quot;</span>: Your_key,</span><br><span class="line">    <span class="string">&quot;X-RapidAPI-Host&quot;</span>: <span class="string">&quot;api-football-v1.p.rapidapi.com&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">response = requests.get(url, headers=headers, params=query)</span><br><span class="line">response.text</span><br></pre></td></tr></table></figure><p> Run this sample code, it show the Barcelona’s Data in 2020 (click picture for <strong>zoom in</strong>)<br> <img src="/dataPrep/2.jpg" alt=" Data of FC Barcelona in 2020 (JSON)"></p></li></ol><h2 id="Getting-Raw-Data"><a href="#Getting-Raw-Data" class="headerlink" title="Getting Raw Data"></a>Getting Raw Data</h2><p>Getting the raw data from these two APIs.<br><img src="/dataPrep/3.jpg" alt="Raw Dataset of Players"></p><p>The players’ raw data have the amount of missing values, Nan, and incorrect values. Therefore, for the next step, pick a suitable way to clean&#x2F;replace these values and get a clean player’s dataset.</p><p><img src="/dataPrep/4.jpg" alt="Raw Dataset of Clubs"></p><p>Also, for the next step, check these two data frames data types, changing them as well to get a better analysis process and results.</p><p><em><strong>Here is Full Version Code for gathering data:<a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/api_garthering_data.py">API Code</a></strong></em><br><em><strong>Full Raw Dataset of Players: <a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/raw_laliga_playerDF.csv">Raw Dataset of Plyasers</a></strong></em><br><em><strong>Full Raw Dataset of Clubs: <a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/raw_laliga_teamDF.csv">Raw Dataset of Clubs</a></strong></em></p><hr><h1 id="Cleaning-Data-Visualization"><a href="#Cleaning-Data-Visualization" class="headerlink" title="Cleaning Data &amp; Visualization"></a>Cleaning Data &amp; Visualization</h1><h2 id="Cleaning"><a href="#Cleaning" class="headerlink" title="Cleaning"></a>Cleaning</h2><p>For the data cleaning step, the first thing is to remove some of the attributes that are not useful. At the same time, use <code>countbox</code> plots to check whether the values of those columns are all the same or all blank. The picture below shows variables of <code>injured</code>, <code>number</code>, <code>captain</code>, <code>game_minutes</code>, <code>penalty_won</code>, and <code>dribble_past</code> meet it, so they should be dropped. The <code>teamId</code> and <code>birthDate</code> are also not useful, they also should be removed. For the data club data, just drop the variable of <code>teamID</code>. Therefore, removing these attributes does not affect future tasks.</p><p><img src="/dataPrep/visual/1.png" alt="Check Arrtibute"></p><p>After that, searching and replacing the NaN in datasets. First, the player’s height and weight contain some NaN, and the quantity of them is small, so replacing these NaN values with height means and weight means. Other variables contain a lot of NaN data, such <code>game_assist</code>, <code>goal_saved</code>, <code>game_appearc</code>, etc. Because NaN is these columns mean 0, they also mean that players are not performing in these skills. Therefore, using 0 to replace NaN for these attributes is a good choice.</p><p>Last, changing some data types for the dataset, such as switching height and weight data types from string to integer. Also changing position data type from string to category.</p><p><img src="/dataPrep/4.jpg" alt="Clean Dataset of Players"></p><p><img src="/dataPrep/5.jpg" alt="Clean Dataset of Clubs"></p><p><em><strong>Here is Full Version Code for Cleaning Data<a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/data_cleaning.py">Cleaning Data Code</a></strong></em><br><em><strong>Full Clean Dataset of Players<a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/clean_laliga_playerDF.csv">Clean Dataset of Players</a></strong></em><br><em><strong>Full Clean Dataset of Clubs<a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/clean_laliga_teamDF.csv">Clean Dataset of Clubs</a></strong></em></p><hr><h2 id="Visualization"><a href="#Visualization" class="headerlink" title="Visualization"></a>Visualization</h2><p><img src="/dataPrep/visual/2.png" alt="Number of Nationality in La Liga"><br>The plot shows in addition to Spanish players, Argentine, Brazilian, French, and Portuguese players play more in La Liga.</p><p><img src="/dataPrep/visual/3.png" alt="Number of Red Card fro each Club 2020-2023"><br>This plot shows the total number of red cards received by the various clubs in La Liga from 2020 to 2023. Clubs getting more red cards may indicate having poor results. Teams that do not get red cards may show a less aggressive style of play. </p><p><img src="/dataPrep/visual/4.png" alt="number of Yellow Card For each Club 2020-2023"><br>This plot shows the total number of yellow cards received by various clubs in La Liga from 2020 to 2023. The number of yellow cards received may indicate a more aggressive style of play. For example, Getafe, this team style of play is very unappealing and they get good results through a lot of fouls.</p><p><img src="/dataPrep/visual/5.png" alt="Player Age and Total Goal Relationship"><br>The age of players from 25 to 30 may be are golden age, they can score more goals.</p><p><img src="/dataPrep/visual/6.png" alt="Number of Goal Save For each Club 2020-2023"><br>A team with more saves may indicate an inconsistent defense and may have a poor performance.</p><p><img src="/dataPrep/visual/7.png" alt="Total Wins For Clubs 2020-2023"><br>The top three teams in La Liga(Barcelona, Real Madrid, and Atletico Madrid) have won more games than any other team, which shows that they are stronger than any other team in La Liga.</p><p><img src="/dataPrep/visual/8.png" alt="Box Plot for Socred Looses For Clubs From 2020 to 2023"><br>The total scored at home by each team in La Liga is generally between 50 to 110 from 2020 to 2023.</p><p><img src="/dataPrep/visual/9.png" alt="Box Plot for Total Losses For Clubs From 2020 to 2023"><br>The total losses at home by each team in La Liga is generally between 50 to 70 from 2020 to 2023.</p><p><img src="/dataPrep/visual/10.png" alt="Total Losses For Clubs From 2020 To 2023"><br>The line plot shows that Real Madrid plays the most consistently each season. Because they have fewer losses every season.</p><p><em><strong>Here is Full Version Code for Data Visualization<a href="https://github.com/HLeoF/laliga_machine_learning/blob/main/laligaProject/viusal.py">Data Visualization Code</a></strong></em></p><hr><h1 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h1><p><code>Background &amp; Cover Image</code>:<a href="https://images.app.goo.gl/rrFyz3J2dLG91KgBA">https://images.app.goo.gl/rrFyz3J2dLG91KgBA</a><br><code>API for Gathering Data</code>: <a href="https://rapidapi.com/api-sports/api/api-football/">https://rapidapi.com/api-sports/api/api-football/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Data Gathering </tag>
            
            <tag> Data Cleaning </tag>
            
            <tag> Data Preparation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Introduction</title>
      <link href="/2024/01/17/Introduction/"/>
      <url>/2024/01/17/Introduction/</url>
      
        <content type="html"><![CDATA[<h1 id="Topic"><a href="#Topic" class="headerlink" title="Topic"></a>Topic</h1><p><em><strong>Is the individual ability of La Liga players a key factor in determining how a club goes throughout a season? Whether a player’s performance on the pitch (such as dribbling, shots, passes, yellow card, red card, etc.) can indicate the outcome of every game and affect a club’s position at the end of each season.</strong></em></p><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>&emsp;Soccer is the number one sport in the world, with tens of thousands of soccer fans watching every weekend around the world. Many people like the fast pace and physicality of the Premier League, some like the defensive art of Serie A, and some people like the attacking football of the Bundesliga. According to the latest World Soccer League ranking (<a href="https://www.teamform.com/en/league-ranking/world/2024/q1">https://www.teamform.com/en/league-ranking/world/2024/q1</a>), La Liga is second in the world, and the main reason it has a large group fans&#x2F;audience is that La Liga is known for its ball control and exquisite technique. On the pitch of La Liga, each team’s 11 players operate like a sophisticated machine for 90 minutes. Each man on the pitch is a part of the machine, and their performance affects the operation of the entire machine. Therefore, the various clubs in La Liga pay great attention to the comprehensive quality of players. Every touch, every pass, every breakthrough of players on the pitch is silently writing the fate of a club’s entire season. Thus, just by standing on the pitch they are playing a key role in the success of a club. In the data era, the soccer area is like a tiger that has grown wings. A player’s individual stats will become what the team or scout focuses on, which is an essential factor in the success of the club’s strategic development and team management. In addition, it also provides fans with a deeper soccer-watching experience, making each player’s performance stand out to the audience. </p><p><img src="/introduction/1.jpg" alt="The Latest World Soccer League Ranking"></p><p>&emsp;Many people or fans may subconsciously believe that if a club purchases players who have wonderful individual abilities, the whole club will win all the trophies. However, it is not like FIFA or Football Manager games where players can win everything if they are good enough. One of the more famous examples, Real Madrid bought a large number of expensive players(<a href="https://www.goal.com/en/news/what-galactico-ronaldo-beckham-all-real-madrids-super-signings/1lrrb6x9j0n9f1actzefqw47am">https://www.goal.com/en/news/what-galactico-ronaldo-beckham-all-real-madrids-super-signings/1lrrb6x9j0n9f1actzefqw47am</a>) in 2000 and formed the Galacticos I era(<a href="https://en.wikipedia.org/wiki/Gal%C3%A1cticos#First_gal%C3%A1ctico_era_2">https://en.wikipedia.org/wiki/Gal%C3%A1cticos#First_gal%C3%A1ctico_era_2</a>). At first, as the fans hoped, Real Madrid was able to win various titles from 2000 to 2002. However, since 2002, they have been unable to win any championships just like the honeymoon period of lovers is over. During this period, Real Madrid’s bitter rivals Barcelona won the championships in successive competitions. Therefore, a successful club may not often depend on the outstanding performances of individual players. If the whole club is not well coordinated or appears internal conflicts, the club’s results may also be affected. Besides, a player’s state fluctuation, injuries, and psychological quality are also important factors that affect the results of a game. Even players with outstanding individual skills can hurt the performance of the team once they are out of form or injured.</p><p><img src="/introduction/2.jpg" alt="The Players of Galacticos I Era"></p><h1 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h1><ul><li><p><strong>Whether the official rating of a player can verify the situation of a team (good or bad) and its future trend?</strong></p></li><li><p><strong>Does the quality of a player’s shooting determine the outcome of a game and a club’s trend at the end of a season?</strong> </p></li><li><p><strong>Does the goalkeeper’s save ability become the key to the team’s victory?</strong></p></li><li><p><strong>Whether the number of red and yellow cards obtained by players can affect the trend of the team’s season?</strong></p></li><li><p><strong>Striker, Midfielder, or defender, which position has the most direct impact on the team ranking for each season?</strong></p></li><li><p><strong>Are the players’ on-field technique values (such as passes, defenses, saves, goals, etc.) have a positive correlation with team ranking?</strong></p></li><li><p><strong>Does the quantity and quality of penalty kicks determine a team’s performance?</strong></p></li><li><p><strong>Can a player’s duels won rate determine the outcome of the game?</strong></p></li><li><p><strong>Can players bring better results to the team as their skill boosts as the season progresses?</strong></p></li><li><p><strong>Can the number of lineups and appearances of a player determine a game’s result?</strong></p></li></ul><hr><h1 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h1><p><code>cover image</code>: <a href="https://images.app.goo.gl/RR4agxTTYDRBukKE8">https://images.app.goo.gl/RR4agxTTYDRBukKE8</a></p>]]></content>
      
      
      <categories>
          
          <category> Introduction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> La Liga </tag>
            
            <tag> Introduction </tag>
            
            <tag> Machine Learning </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
